---
phase: 01-foundation-infrastructure
plan: 02
type: execute
---

<objective>
Set up React 18 frontend with Vite and TypeScript, configured to communicate with Django backend.

Purpose: Establish the frontend foundation for the dashboard, events feed, entity watch, and AI chat interfaces.
Output: Working React 18 + Vite + TypeScript project with API client configured to Django backend, basic app shell.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-infrastructure/DISCOVERY.md
@.planning/phases/01-foundation-infrastructure/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create React 18 + Vite project with TypeScript</name>
  <files>frontend/package.json, frontend/tsconfig.json, frontend/vite.config.ts, frontend/src/main.tsx, frontend/src/App.tsx, frontend/src/vite-env.d.ts, frontend/index.html</files>
  <action>
    Run `npm create vite@latest frontend -- --template react-ts` to create React 18 + TypeScript project.

    Move into frontend/ and run `npm install` to install dependencies.

    Update frontend/src/main.tsx to use React 18's createRoot API (should already be set by template):
    ```tsx
    import React from 'react'
    import ReactDOM from 'react-dom/client'
    import App from './App.tsx'
    import './index.css'

    ReactDOM.createRoot(document.getElementById('root')!).render(
      <React.StrictMode>
        <App />
      </React.StrictMode>,
    )
    ```

    Replace frontend/src/App.tsx with a basic shell:
    ```tsx
    import { useEffect, useState } from 'react'
    import './App.css'

    function App() {
      const [apiStatus, setApiStatus] = useState<string>('checking...')

      useEffect(() => {
        fetch('/api/health/health')
          .then(res => res.json())
          .then(data => setApiStatus(data.status))
          .catch(() => setApiStatus('error'))
      }, [])

      return (
        <div className="App">
          <h1>VenezuelaWatch</h1>
          <p>Real-time intelligence platform for Venezuela events</p>
          <p>API Status: {apiStatus}</p>
        </div>
      )
    }

    export default App
    ```

    This fetches the health check endpoint to verify backend connectivity.
  </action>
  <verify>
    `npm run dev` in frontend/ starts Vite dev server on port 5173. Visit http://localhost:5173 shows React app (API status will show error until proxy configured).
  </verify>
  <done>React 18 + Vite + TypeScript project created with basic app shell.</done>
</task>

<task type="auto">
  <name>Task 2: Configure Vite proxy and API client</name>
  <files>frontend/vite.config.ts, frontend/src/lib/api.ts, frontend/README.md</files>
  <action>
    Update frontend/vite.config.ts to proxy /api requests to Django backend:
    ```ts
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'

    export default defineConfig({
      plugins: [react()],
      server: {
        proxy: {
          '/api': {
            target: 'http://localhost:8000',
            changeOrigin: true,
          }
        }
      }
    })
    ```

    Create frontend/src/lib/api.ts as a typed API client:
    ```ts
    const API_BASE = '/api'

    export interface HealthResponse {
      status: string
      service: string
    }

    export const api = {
      async healthCheck(): Promise<HealthResponse> {
        const response = await fetch(`${API_BASE}/health/health`)
        if (!response.ok) {
          throw new Error(`API error: ${response.status}`)
        }
        return response.json()
      }
    }
    ```

    Update frontend/src/App.tsx to use the typed API client:
    ```tsx
    import { useEffect, useState } from 'react'
    import { api } from './lib/api'
    import './App.css'

    function App() {
      const [apiStatus, setApiStatus] = useState<string>('checking...')

      useEffect(() => {
        api.healthCheck()
          .then(data => setApiStatus(data.status))
          .catch(() => setApiStatus('error'))
      }, [])

      return (
        <div className="App">
          <h1>VenezuelaWatch</h1>
          <p>Real-time intelligence platform for Venezuela events</p>
          <p>API Status: {apiStatus}</p>
        </div>
      )
    }

    export default App
    ```

    Create frontend/README.md with setup instructions:
    - Node.js 18+ required
    - Install dependencies: `npm install`
    - Run dev server: `npm run dev` (proxies to Django at localhost:8000)
    - Build: `npm run build`
    - Preview: `npm run preview`
    - Ensure Django backend is running on localhost:8000
  </action>
  <verify>
    With Django backend running on localhost:8000, run `npm run dev` in frontend/. Visit http://localhost:5173 - should show "API Status: ok" indicating successful proxy to backend.
  </verify>
  <done>Vite proxy configured, typed API client created, frontend successfully communicating with backend.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` in frontend/ starts without errors
- [ ] App loads at http://localhost:5173
- [ ] API health check shows "ok" status (backend must be running)
- [ ] Browser console shows no CORS errors
- [ ] Proxy forwards /api requests to Django backend
- [ ] TypeScript compilation passes with no errors
</verification>

<success_criteria>
- React 18 + Vite + TypeScript project created
- Vite proxy configured to Django backend
- Typed API client implemented
- Frontend-backend communication working
- Development documentation complete
- All verification checks pass
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-infrastructure/01-02-SUMMARY.md`
</output>
