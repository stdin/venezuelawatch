---
phase: 13-responsive-accessibility
plan: 01
type: execute
---

<objective>
Establish responsive design foundation and accessibility testing infrastructure.

Purpose: Configure Mantine breakpoints, Storybook a11y addon, and implement core accessibility patterns that will be used across all pages.
Output: Theme with custom breakpoints, Storybook a11y configured, skip links and ARIA landmarks implemented globally.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-responsive-accessibility/13-RESEARCH.md
@frontend/src/main.tsx
@frontend/src/App.tsx
@.storybook/preview.tsx

**Tech stack available:**
- Mantine UI 8.3.11 with MantineProvider
- @storybook/addon-a11y already installed
- React 19.2 + TypeScript
- Vite 7.2.4

**Established patterns:**
- Phase 10: Mantine Grid with span={{ base: 12, md: 6 }} responsive props
- Phase 10: Container fluid for full-width layouts
- Phase 11: MantineProvider at app root (main.tsx)

**Constraining decisions:**
- Phase 8: Design tokens already established (--color-*, spacing scales)
- Phase 10: Grid responsive patterns already in use (need to verify mobile)
- WCAG 2.1 AA compliance required (from roadmap)

**Research findings:**
- Recommended breakpoints: xs: 36em (576px), sm: 48em (768px), md: 62em (992px), lg: 75em (1200px), xl: 88em (1408px)
- Storybook a11y addon uses axe-core for automated checks
- Skip links improve keyboard navigation UX
- ARIA landmarks help screen reader users navigate page structure
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Mantine breakpoints and Storybook a11y addon</name>
  <files>frontend/src/theme.ts, .storybook/preview.tsx</files>
  <action>Create frontend/src/theme.ts with custom Mantine theme containing recommended breakpoints (xs: 36em, sm: 48em, md: 62em, lg: 75em, xl: 88em) matching research findings. Import in main.tsx and wrap MantineProvider with theme prop. In .storybook/preview.tsx, configure a11y addon with parameters: { a11y: { test: 'error' } } to fail on violations, and enable axe-core automated checks. Verify preview.tsx uses correct Storybook 10 imports (from 'storybook/*' not '@storybook/*'). If MantineProvider already exists in main.tsx without theme, update it to use the new theme object.</action>
  <verify>npm run dev starts, npm run storybook shows a11y tab in addon panel, theme.ts exports createTheme with breakpoints</verify>
  <done>Mantine theme with custom breakpoints applied globally, Storybook a11y addon configured to error on violations, breakpoints match research recommendations</done>
</task>

<task type="auto">
  <name>Task 2: Add skip links and ARIA landmarks to App layout</name>
  <files>frontend/src/App.tsx, frontend/src/App.css</files>
  <action>In App.tsx, add skip link at very top of AuthenticatedApp component: <a href="#main-content" className="skip-link">Skip to main content</a>. Add aria-label="Main navigation" to <nav> element. Add id="main-content" to the <div className="app-content"> wrapper. In App.css, add skip link styles: .skip-link positioned absolutely with top: -40px, visible on :focus with top: 0, background black, color white, padding 8px, z-index 100. Add role="main" to #main-content div. Ensure nav has semantic <nav> element (not just className). Skip link should be hidden by default but visible when focused via keyboard navigation.</action>
  <verify>npm run dev starts, Tab key on page shows skip link, clicking skip link jumps to main content, Storybook a11y shows no landmark violations</verify>
  <done>Skip link visible on keyboard focus, ARIA landmarks added (navigation with aria-label, main with role), skip link CSS hides/shows correctly</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run dev starts without errors
- [ ] npm run storybook opens with a11y addon visible in bottom panel
- [ ] Theme breakpoints exported from theme.ts match research recommendations
- [ ] Skip link appears on Tab keypress at top of page
- [ ] Skip link jumps to main content when activated
- [ ] Navigation has aria-label="Main navigation"
- [ ] Main content has id="main-content" and role="main"
- [ ] No TypeScript errors
</verification>

<success_criteria>

- Mantine theme with custom breakpoints configured and applied
- Storybook a11y addon configured with test: 'error' mode
- Skip link implemented with keyboard-visible styling
- ARIA landmarks added to navigation and main content
- All verification checks pass
- No TypeScript errors or console warnings
  </success_criteria>

<output>
After completion, create `.planning/phases/13-responsive-accessibility/13-01-SUMMARY.md`:

# Phase 13 Plan 1: Responsive Foundation & A11y Setup Summary

**[Substantive one-liner - what shipped]**

## Accomplishments

- Custom Mantine theme with mobile-first breakpoints (xs: 576px, sm: 768px, md: 992px, lg: 1200px, xl: 1408px)
- Storybook a11y addon configured to fail on accessibility violations
- Skip link implemented for keyboard navigation
- ARIA landmarks added to App layout (navigation, main content)

## Files Created/Modified

- `frontend/src/theme.ts` - Created with custom breakpoints
- `frontend/src/main.tsx` - Updated to use custom theme
- `frontend/src/App.tsx` - Added skip link and ARIA landmarks
- `frontend/src/App.css` - Added skip link styles
- `.storybook/preview.tsx` - Configured a11y addon

## Decisions Made

**Breakpoint values:** Used research-recommended values (xs: 36em through xl: 88em) instead of Mantine defaults for better mobile coverage starting at 576px.

**A11y test mode:** Set to 'error' to fail fast on violations during development, ensuring issues are caught early.

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 13-02-PLAN.md (Dashboard Responsive & Keyboard Nav)
</output>
