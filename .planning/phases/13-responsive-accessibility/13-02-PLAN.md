---
phase: 13-responsive-accessibility
plan: 02
type: execute
---

<objective>
Make Dashboard page mobile-responsive and fully keyboard accessible.

Purpose: Ensure Dashboard works on mobile devices (320px-768px), all interactive elements accessible via keyboard, and proper ARIA labels for loading/error states.
Output: Responsive Dashboard with verified mobile breakpoints, keyboard navigation, ARIA labels, and touch-friendly buttons.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-responsive-accessibility/13-RESEARCH.md
@.planning/phases/13-responsive-accessibility/13-01-SUMMARY.md
@frontend/src/pages/Dashboard.tsx
@frontend/src/pages/Dashboard.css
@frontend/src/components/FilterBar.tsx
@frontend/src/components/EventList.tsx
@frontend/src/components/EventDetail.tsx
@frontend/src/components/TrendsPanel.tsx

**Tech stack available:**
- Mantine Grid with responsive span={{ base, md }} props
- useMediaQuery hook for runtime responsive logic
- Mantine Button, TextInput, MultiSelect, NumberInput
- Custom breakpoints: xs: 576px, sm: 768px, md: 992px, lg: 1200px, xl: 1408px

**Established patterns:**
- Phase 10: Mantine Grid with 2-column layout (span={{ base: 12, md: 6 }})
- Phase 10: FilterBar with Mantine form components
- Phase 10: Skeleton loading for perceived performance
- Phase 10: EventList owns loading states

**Constraining decisions:**
- Phase 10: Container fluid for full-width dashboard
- Phase 10: React Query for data fetching (already in use)
- WCAG 2.1 AA: 44x44px minimum touch targets, keyboard accessible, ARIA labels required

**Research findings:**
- Touch targets: 44x44px minimum for mobile (Mantine Button size="lg" recommended)
- useMediaQuery for conditional mobile layouts
- aria-live="polite" for loading states
- aria-invalid and aria-describedby for form validation
- Natural tab order should follow visual layout
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance Dashboard responsive breakpoints and mobile layout</name>
  <files>frontend/src/pages/Dashboard.tsx, frontend/src/pages/Dashboard.css</files>
  <action>In Dashboard.tsx, verify Grid.Col spans use responsive props. Update if needed: FilterBar and content should be span={{ base: 12, md: 6, lg: 6 }} for mobile stack, tablet/desktop side-by-side. Use useMediaQuery hook from @mantine/hooks to detect mobile (<48em) and conditionally render TrendsPanel collapsed on mobile by default (add expand button). In Dashboard.css, ensure .error-state and .empty-state have responsive padding (use clamp() or media queries): padding: clamp(1rem, 5vw, 2rem). Test at 320px (iPhone SE), 768px (iPad), 1024px (desktop). Remove any fixed widths that break mobile. For FilterBar, ensure Mantine form components stack vertically on mobile using Stack with gap="sm".</action>
  <verify>Open http://localhost:5173 at 320px width, verify 2-column layout stacks to single column, no horizontal scroll, touch targets at least 44px, TrendsPanel either hidden or collapsible on mobile</verify>
  <done>Dashboard fully responsive from 320px to 1440px+, Grid stacks on mobile, no layout breaks, proper spacing, mobile-optimized TrendsPanel</done>
</task>

<task type="auto">
  <name>Task 2: Add keyboard navigation and focus management</name>
  <files>frontend/src/pages/Dashboard.tsx, frontend/src/components/FilterBar.tsx, frontend/src/components/EventList.tsx</files>
  <action>Verify all Mantine components (Button, TextInput, MultiSelect, NumberInput) have proper focus indicators (Mantine provides these by default, but check visually). In EventList, ensure event cards are keyboard accessible: if using onClick on divs, replace with <button> or add role="button" tabIndex={0} and onKeyDown handler for Enter/Space keys. Verify Tab order follows logical flow: FilterBar inputs → Event cards → Detail panel. Test: Tab through entire page, Shift+Tab backwards, Enter to select events, Escape to close modals. If event cards need keyboard selection, add tabIndex={0} and keyboard event handlers. Ensure focus is visible at all times (Mantine handles this, but verify no CSS removes outlines).</action>
  <verify>Tab key navigates through all interactive elements in logical order, Enter/Space activate buttons, focus indicators visible on all elements, no keyboard traps</verify>
  <done>All interactive elements keyboard accessible, logical tab order, visible focus indicators, Enter/Space activate event cards and buttons</done>
</task>

<task type="auto">
  <name>Task 3: Add ARIA labels and improve loading/error states</name>
  <files>frontend/src/pages/Dashboard.tsx, frontend/src/components/FilterBar.tsx, frontend/src/components/EventList.tsx</files>
  <action>In Dashboard.tsx, add aria-label to FilterBar wrapper: <div aria-label="Event filters" role="search">. For error state div, add role="alert" and aria-live="assertive" so screen readers announce errors immediately. For empty state, add role="status" and aria-live="polite". In EventList.tsx, wrap Skeleton loading with <div role="status" aria-live="polite" aria-label="Loading events">. For EventList container, add aria-label="Event feed" role="feed" or role="list". Ensure all form inputs in FilterBar have associated labels (Mantine components include this, but verify MultiSelect, NumberInput have label prop). If any icons are interactive, add aria-label. Remove aria-label from purely decorative elements.</action>
  <verify>Run Storybook a11y checks on Dashboard stories, verify no missing labels, loading states announced by screen readers (test with VoiceOver if available), error alerts interrupt</verify>
  <done>ARIA labels added to filters, loading states, error states; screen readers can navigate and understand all page sections; Storybook a11y shows no violations</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Dashboard page responsive and keyboard accessible</what-built>
  <how-to-verify>
    1. Run: cd frontend && npm run dev
    2. Visit: http://localhost:5173/
    3. Responsive testing:
       - Resize browser to 320px width (mobile) - verify single column, no horizontal scroll
       - Resize to 768px (tablet) - verify proper layout
       - Resize to 1024px+ (desktop) - verify 2-column layout
       - Test on actual mobile device (iOS Safari or Android Chrome) if available
    4. Keyboard testing (keyboard only, no mouse):
       - Tab through all elements - verify logical order
       - Shift+Tab backwards - verify reverse order
       - Enter/Space on buttons - verify activation
       - Focus indicators visible at all times
       - No keyboard traps (can escape from all sections)
    5. Touch target testing (mobile):
       - All buttons at least 44x44px tap area
       - Spacing between buttons prevents accidental taps
    6. Storybook a11y:
       - Run: npm run storybook
       - Check Dashboard stories for violations
       - All violations fixed or documented
    7. Screen reader (optional but recommended):
       - Test with VoiceOver (Mac: Cmd+F5) or NVDA (Windows)
       - Verify loading states announced
       - Verify error states announced
       - Verify all form controls have labels
  </how-to-verify>
  <resume-signal>Type "approved" when Dashboard is responsive and accessible, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Dashboard responsive from 320px to 1440px+
- [ ] No horizontal scroll at any breakpoint
- [ ] Grid stacks to single column on mobile
- [ ] All interactive elements keyboard accessible
- [ ] Tab order logical (filters → events → detail)
- [ ] Focus indicators visible
- [ ] Touch targets meet 44x44px minimum
- [ ] ARIA labels on filters, loading states, error states
- [ ] Storybook a11y shows no violations
- [ ] Human verification checkpoint passed
- [ ] No TypeScript errors
</verification>

<success_criteria>

- Dashboard fully responsive across all breakpoints (320px-1440px+)
- Keyboard navigation works throughout page
- ARIA labels provide context for screen readers
- Loading and error states properly announced
- Touch targets meet WCAG 2.1 AA requirements
- Storybook a11y checks pass
- Human verification confirms UX quality
- No TypeScript errors or console warnings
  </success_criteria>

<output>
After completion, create `.planning/phases/13-responsive-accessibility/13-02-SUMMARY.md`:

# Phase 13 Plan 2: Dashboard Responsive & Keyboard Nav Summary

**[Substantive one-liner - what shipped]**

## Accomplishments

- Dashboard responsive from 320px to 1440px+ with mobile-first approach
- Keyboard navigation implemented with logical tab order
- ARIA labels added to filters, loading states, and error states
- Touch targets verified to meet 44x44px minimum
- Storybook a11y checks passing

## Files Created/Modified

- `frontend/src/pages/Dashboard.tsx` - Added responsive logic, ARIA labels
- `frontend/src/pages/Dashboard.css` - Updated for mobile breakpoints
- `frontend/src/components/FilterBar.tsx` - Enhanced keyboard accessibility
- `frontend/src/components/EventList.tsx` - Added ARIA labels and keyboard handlers

## Decisions Made

**TrendsPanel mobile behavior:** [Collapsed by default with expand button / Hidden on mobile / etc. - to be determined during implementation]

**Focus management:** Used Mantine's default focus styles which meet WCAG 2.1 AA requirements without custom CSS.

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 13-03-PLAN.md (Entities & Chat Responsive)
</output>
